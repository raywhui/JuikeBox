<!DOCTYPE html>
<html>
<head>
	<title>Project Singularity</title>

	
	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>


	<link rel="stylesheet" type="text/css" href="./assets/css/reset.css">
	
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<link href="https://fonts.googleapis.com/css?family=Permanent+Marker|Poppins:500" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" href="./assets/css/style.css">

</head>

<body>
	
	<video class="background" muted loop>
		<source src="./assets/media/dance_scene.mp4" type="video/mp4" autoplay muted loop>
	</video>

	<audio class="landing-music" loop>
		<source src="./assets/media/clubbing_music.mp3" type="audio/mp3">
	</audio>

	<div class="landing-text">
		<h1 class="logo text">
			<span>JuikeBox</span>
		</h1>
		<h3 class="slogan text">
			<span>The Night.</span><span> Remixed.</span>
		</h3><br>
		<p class="landing-instructions text">* The modern app to help you become your own bartender while setting the mood with the latest music trends. *</p><br>
		
		<div class='martini-box'>
			<img src="./assets/media/drink_icon.png" class="martini">
			<div class='whoosh'>Have a Drink</div>
		</div>
	</div>




<!--Top bar-->
	<header class="container-fluid head">
		<div class="row">
			<div class="col-lg-offset-2 col-lg-5">
				<h1 class="top-logo">JuikeBox</h1>
			</div>
			<div class="col-lg-offset-3 col-lg-2">
				<div class="random-centered">
					<h3 class="random-title">Not to your liking?</h3>
					<button class="random button">Random</button>
				</div>
			</div>
		</div>
	</header>

<!-- Ingredients UI -->
	<!--Ingredients Middle Box-->
	<div class='container-fluid ingredients-box'>
		<div class="row">
			<div class="col-lg-9">
				<label class="main-title">Type in your ingredients:</label>
				<input type="text" class="form-control" id="ingredients-input">
				<div class='ingredients-choices'>
					<ul class='choices'></ul>
				</div>

			</div>
		</div>
	</div>


	<!--Ingredients Sidebar-->
	<aside class="sidebar green" id="container">
		<div class="ingredients-side">
			<div class="title">Ingredients:</div>
			<div class="sidebox">
				<ul class='side-list'></ul>
			</div>
			<div class="ingredients-confirm">
				<img src="./assets/media/cocktail_shaker.png" class="shaker">
				<span class="shaker-text">Mix it Up.</span>
			</div>
		</div>
	</aside>


<!-- Instructions UI-->
	<!--Instructions Middle Box-->
	<div class='container-fluid instructions-box'>
		<div class="row">
			<div class="col-lg-9">

				<label class="main-title">Follow these instructions:</label> <!--10 margin 1 border-->
				<div class="instructions-list">
					<div></div>
				</div>

				<!--Replace later-->
				<button class="random button main-title">Next Step.</button>
				<div class='receipt'>

					<!--DISPLAY NONE, THEN FADE IN ONCE LAST STEP APPEARS-->
					<img src='./assets/media/receipt_icon.png' class='receipt'>
					<div class='close-tab'>Close your bar tab.</div>
				</div>
			</div>
		</div>
	</div>


	<!--Instructions Sidebar-->
	<aside class="sidebar blue" id="container">
		<div class="ingredients-side">
			<div class="title">Instructions:</div>
			<div class="sidebox instructions-sidebox">
				<ul class='instructions-side-list'>
					<li>This is text instructions number 1.</li>
					<li>test 2</li>
					<li>test 3</li>
					<li>test 4</li>
					<li>test 5</li>
					<li>test 6</li>
					<li>test 7</li>
				</ul>
			</div>
			<div class ="title measurements">Measurements:</div>
				<div class="sidebox measurements-sidebox">
				<ul class='measurements-side-list'>
					<li>test 1</li>
					<li>test 2</li>
					<li>test 3</li>
					<li>test 4</li>
					<li>test 5</li>
					<li>test 6</li>
					<li>test 7</li>
				</ul>
			</div>
		</div>
	</aside>


<!--Cheers UI-->
	<!--Cheers Middle Box-->
	<div class='container-fluid cheers-box'>
		<div class="row">
			<div class="col-lg-9">

				<label class="main-title">Here's your drink:</label>
				<div class="main-title drink">Insert Drink Name</div>
				<div class="main-title">Insert Image</div>
				<div class="main-title">That'll be $500.</div>

			</div>
		</div>
	</div>


	<!--Cheers Sidebar-->
	<aside class="sidebar purple" id="container">
		<div class="ingredients-side">
			<div class="title">Music:</div>
			<div class="sidebox">
			</div>
		</div>
	</aside>

<!--Right panel Buttons-->
	<div class="right-panel">
		<div class="ingredients-mini right-side">Ingredients</div>
		<div class="instructions-mini right-side">Instructions</div>
		<div class="results-mini right-side">Cheers</div>
	</div>





<!--Drinks-->
	<div id="drinks-container">
		<div id="drink-name"></div>
		<div id="drink-ingredients"></div>
		<div id="drink-instructions"></div>
	</div><!--drinks-container-->

<!--Soundcloud-->
	<div id="soundcloud-container">
		<div id="track-name"></div>
		<div id="artist"></div>
		<div id="track-link"></div>
	</div><!--soundcloud-container-->

<!--Drinks API-->
	<script type="text/javascript">

	</script>

<!--Drinks Functions + Logic-->
	<script type="text/javascript">


	</script>


<!--SoundCloud API-->
	<script type="text/javascript">

	</script>

<!--SoundCloud Functions + Logic-->
	<script type="text/javascript">

	</script>

<!--DOM Manipulation + Logic -->
<script src="assets/javascript/drinkingText.js"></script>
<script type="text/javascript">


var currentColor = "";


//Landing music vol
	$(".landing-music").prop('volume',0.1);

//Landing drink button transition to ingredients	
	$(".martini-box").on('click', function(){

		$('.landing-text').fadeOut(850,'linear',function(){
			$('.head').fadeIn(400);
			$('.green').animate({left: '0px',},400);
			$('.ingredients-box').fadeIn(400);
			$('.ingredients-mini').fadeIn(400);

		});
		currentColor = "green";

	});

//INGREDIENTS PAGE FUNCTIONALITY
//Ingredients array to be pushed to API for random recipe
var finalIngredients = []; //Ask kevin wut the array should b called
var ingredientsCounter = 0;


//Dummy code
var dummyInstructionsArray = ["This is text instructions number 1.","This is text instructions number 2.","This is text instructions number 3.","This is text instructions number 4.","This is text instructions number 5."];

//Array to ingredients list function
function choicesList(){
	//Takes input val
	var typedIngredient = $('input').val();

	//Used to empty page each keypress
	$('.choices').empty();

	//For loop to check through ingredients array
	for (var i = 0; i < ingredients.length; i++) {

		var converter = ingredients[i].toUpperCase();

		//Removes case sensitivity for easy comparison
		if (converter.indexOf(typedIngredient.toUpperCase()) != -1 && typedIngredient !== "" && typedIngredient !== " "){
				$('.ingredients-choices').css('display','block');

				$('.choices').append(
					  '<li><a>' + ingredients[i] + '</a></li>'
					);
		} //if
		else if (typedIngredient === ""){
			$('.ingredients-choices').css('display','none');

		}//else if
	}//for loop
}//choicesList


//Ingredients input
	$('input').on('keyup', function(){
		//Adds array to DOM
		choicesList();
	}); //input onkeyup

	$('.choices').on('click','a', function(){
		var textVal = $(this).text();
		var ogIndex = ingredients.indexOf(textVal);
		$('.side-list').append(
			'<li>' + '<div class="delete" data-index="' + ogIndex + '">' + 
				'<div class="one"></div><div class="two"></div>'+ 
				'</div>' + textVal + 
			'</li>'
		);
		//pushes to finalIngredients Array
		finalIngredients.push(textVal);
		addIng(textVal);
		//removes text from DOM
		$(this).parent().remove();
		console.log(ogIndex);

		//removes text from array
		ingredients.splice(ogIndex, 1);
		ingredientsCounter++;
		console.log(ingredientsCounter);

		if (ingredientsCounter <= 1){
			console.log('yay');
			$('.ingredients-confirm').css('display', 'block');
		}

	});//event delegation li a click

	$('.side-list').on('click','.delete', function(){
		var textSide = $(this).parent().text();
		var dataIndex = $(this).attr('data-index');
		var intConverter = parseInt(dataIndex);

		//remove from finalIngredients Array
		var removalIndex = finalIngredients.indexOf(textSide);
		finalIngredients.splice(removalIndex,1);

		//readds text into array
		removeIng(textSide);
		ingredients.splice(intConverter,0,textSide);
		console.log(textSide);
		console.log(intConverter);
		$(this).parent().remove();

		//repeat function to readd dynamically to DOM
		choicesList();
		ingredientsCounter--;
		console.log(ingredientsCounter);

		if (ingredientsCounter === 0){
			$('.ingredients-confirm').css('display', 'none');
		}
	});

	$('.ingredients-confirm').on('click','.shaker',function(){
		$('.green').animate({ left: '-300px'},400, function(){
			$('.blue').animate({ left: '0px'},400)

			//API CALL TO INSTRUCTIONS NEEDS TO BE DONE BEFORE FADEIN
			executeGo();
		});//can put callback function after linear
		$('.ingredients-box').fadeOut(400, function(){
			$('.instructions-box').fadeIn(400);
			$('.instructions-mini').fadeIn(400);
		});

		currentColor = "blue";
	});

	//Be able to go back to ingredients, change, hit confirm, then generates new instructions
	$('.instructions-list').text(dummyInstructionsArray[0]);//delete when finished


	$('.receipt').on('click',function(){
		$('.blue').animate({ left: '-300px'},400, function(){
			$('.purple').animate({ left: '0px'},400)

			//API CALL TO INSTRUCTIONS NEEDS TO BE DONE BEFORE FADEIN

		});//can put callback function after linear
		$('.instructions-box').fadeOut(400, function(){
			$('.cheers-box').fadeIn(400);
			$('.results-mini').fadeIn(400);
		});

		currentColor = "purple";
	})




	//Right side panel functionality
	$('.ingredients-mini').on('click',function(){

		if (currentColor === "blue"){
			$('.instructions-box').fadeOut(400, function(){
				$('.ingredients-box').fadeIn(400);
			});

			$('.blue').animate({left: '-300px'},400, function(){
				$('.green').animate({left: '0px',},400);
			});
		}

		else if (currentColor === "purple"){
			$('.cheers-box').fadeOut(400, function(){
				$('.ingredients-box').fadeIn(400);
			});

			$('.purple').animate({left: '-300px'},400, function(){
				$('.green').animate({left: '0px',},400);
			});
		}

		currentColor = "green";
		console.log('Color is now: ' + currentColor);
	});


	$('.instructions-mini').on('click',function(){

		if (currentColor === "green"){
			$('.ingredients-box').fadeOut(400, function(){
				$('.instructions-box').fadeIn(400);
			});

			$('.green').animate({left: '-300px'},400, function(){
				$('.blue').animate({left: '0px',},400);
			});
		}

		else if (currentColor === "purple"){
			$('.cheers-box').fadeOut(400, function(){
				$('.instructions-box').fadeIn(400);
			});

			$('.purple').animate({left: '-300px'},400, function(){
				$('.blue').animate({left: '0px',},400);
			});
		}

		currentColor = "blue";
		console.log('Color is now: ' + currentColor);
	});

	$('.results-mini').on('click',function(){
		if (currentColor === "green"){
			$('.ingredients-box').fadeOut(400, function(){
				$('.cheers-box').fadeIn(400);
			});

			$('.green').animate({left: '-300px'},400, function(){
				$('.purple').animate({left: '0px',},400);
			});
		}

		else if (currentColor === "blue"){
			$('.instructions-box').fadeOut(400, function(){
				$('.cheers-box').fadeIn(400);
			});

			$('.blue').animate({left: '-300px'},400, function(){
				$('.purple').animate({left: '0px',},400);
			});
		}

		currentColor = "purple";
		console.log('Color is now: ' + currentColor);
	});


</script>



</body>
</html>